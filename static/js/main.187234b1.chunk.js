(this["webpackJsonpcards-game"]=this["webpackJsonpcards-game"]||[]).push([[0],{17:function(e,t,r){e.exports={bgr:"styles_bgr__1BTk6"}},21:function(e,t,r){e.exports={active:"Header_active__2DgLn",wrapper:"Header_wrapper__YVqso"}},30:function(e,t,r){e.exports={superInput:"SuperInputText_superInput__2j4-_",errorInput:"SuperInputText_errorInput__3onHK",error:"SuperInputText_error__geYwr"}},34:function(e,t,r){e.exports={default:"SuperButton_default__1E02K",red:"SuperButton_red__3SVRd"}},35:function(e,t,r){e.exports={checkbox:"SuperCheckbox_checkbox__2MmIV",spanClassName:"SuperCheckbox_spanClassName__3WU-E"}},61:function(e,t,r){},62:function(e,t,r){},86:function(e,t,r){"use strict";r.r(t);var s=r(0),n=r.n(s),a=r(25),c=r.n(a),o=(r(61),r(62),r(21)),i=r.n(o),d=r(9),l=r(4),u=r(1),j=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"404"}),Object(u.jsx)("div",{children:"Page not found!"}),Object(u.jsx)("div",{children:"\u2014\u0e05/\u1420.\u032b .\u141f\\\u0e05\u2014"})]})},b=r(17),p=r.n(b),h=r(3),m=r(23),O=r(34),f=r.n(O),w=function(e){var t=e.red,r=e.className,s=Object(m.a)(e,["red","className"]),n="".concat(t?f.a.red:f.a.default," ").concat(r);return Object(u.jsx)("button",Object(h.a)({className:n},s))},g=r(35),x=r.n(g),v=function(e){e.type;var t=e.onChange,r=e.onChangeChecked,s=e.className,n=(e.spanClassName,e.children),a=Object(m.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),c="".concat(x.a.checkbox," ").concat(s||"");return Object(u.jsxs)("label",{children:[Object(u.jsx)("input",Object(h.a)({type:"checkbox",onChange:function(e){t&&t(e),r&&r(e.currentTarget.checked)},className:c},a)),n&&Object(u.jsx)("span",{className:x.a.spanClassName,children:n})]})},P=r(30),S=r.n(P),y=function(e){e.type;var t=e.onChange,r=e.onChangeText,s=e.onKeyPress,n=e.onEnter,a=e.error,c=e.className,o=e.spanClassName,i=Object(m.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),d="".concat(S.a.error," ").concat(o||""),l="".concat(a?S.a.errorInput:S.a.superInput," ").concat(c);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",Object(h.a)({type:"text",onChange:function(e){t&&t(e),r&&r(e.currentTarget.value)},onKeyPress:function(e){s&&s(e),n&&"Enter"===e.key&&n()},className:l},i)),a&&Object(u.jsx)("span",{className:d,children:a})]})},C=r(5),N=r(48),_=r.n(N).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),E=function(e,t,r){return _.post("auth/login",{email:e,password:t,rememberMe:r})},k=function(){return _.delete("auth/me")},T=function(e,t){return _.post("/auth/register",{email:e,password:t})},I=function(e,t){return _.post("/auth/forgot",{email:e,message:t})},A=function(e,t){return _.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},F={isLoggedIn:!1,userData:null},R=function(e){return{type:"login/SET-IS-LOGGED-IN",value:e}},L=function(e){return{type:"login/SET-USER-DATA",payload:e}},D=function(e){try{k().then((function(){e(R(!1)),e(L(null))}))}catch(t){}},U=r(20),G=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.auth.isLoggedIn})),r=Object(U.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password||(t.password="Password is required"),t},onSubmit:function(t){e(function(e){return function(t){try{E(e.email,e.password,e.rememberMe).then((function(e){var r={_id:e.data._id,name:e.data.name,email:e.data.email,avatar:e.data.avatar||null,publicCardPacksCount:e.data.publicCardPacksCount};t(L(r)),t(R(!0))}))}catch(s){var r=s.response?s.response.data.error:s.message;alert(r)}}}(t)),r.resetForm()}});return t?Object(u.jsx)(l.a,{to:"/profile"}):Object(u.jsxs)("div",{className:p.a.bgr,children:[Object(u.jsx)("h2",{children:" Login "}),Object(u.jsxs)("form",{onSubmit:r.handleSubmit,children:[Object(u.jsx)(y,{type:"email",placeholder:"Enter your E-mail",name:"email",onChange:r.handleChange,value:r.values.email})," ",Object(u.jsx)("br",{}),Object(u.jsx)(y,{type:"password",placeholder:"Enter your password",name:"password",onChange:r.handleChange,value:r.values.password})," ",Object(u.jsx)("br",{}),Object(u.jsx)(v,{name:"rememberMe",onChange:r.handleChange})," Remember me ",Object(u.jsx)("br",{}),Object(u.jsx)(w,{type:"submit",children:"Login"})]}),Object(u.jsx)(d.b,{to:"/forgot-password",children:"Forgot Password"})," ",Object(u.jsx)("br",{}),Object(u.jsx)(d.b,{to:"/register",children:Object(u.jsx)(w,{children:" Sign Up "})})]})},q=function(){return Object(C.c)((function(e){return e.auth.isLoggedIn}))?Object(u.jsx)("div",{children:"Profile"}):Object(u.jsx)(G,{})},V={status:"idle"},W=function(e){return{type:"APP/SET-STATUS",status:e}},M={isRegistered:!1},Z=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.register.isRegistered})),r=Object(U.a)({initialValues:{email:"",password:"",confirmedPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address."):t.email="Email is required",e.password?e.password.length<8&&(t.password="Password must be at least 8 symbols"):t.password="Password is required",e.password&&!e.confirmedPassword?t.confirmedPassword="Confirm your password":e.password!==e.confirmedPassword&&(t.confirmedPassword="You entered two different passwords."),t},onSubmit:function(t){t.password===t.confirmedPassword&&(e(function(e){return function(t){t(W("loading")),T(e.email,e.password).then((function(){t({type:"register/SET-SIGN-UP",isRegistered:!0}),t(W("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message;alert(t)}))}}(t)),r.resetForm())}});return t?Object(u.jsx)(l.a,{to:"./login"}):Object(u.jsxs)("div",{className:p.a.bgr,children:[Object(u.jsx)("h1",{children:"it-incubator"}),Object(u.jsx)("h2",{children:"Sign In"}),Object(u.jsxs)("form",{onSubmit:r.handleSubmit,className:p.a.form,children:[Object(u.jsx)(y,Object(h.a)({type:"email",placeholder:"Email"},r.getFieldProps("email"))),Object(u.jsx)(y,Object(h.a)({type:"password",placeholder:"Password"},r.getFieldProps("password"))),Object(u.jsx)(y,Object(h.a)({type:"password",placeholder:"Confirm your password",error:r.touched.confirmedPassword?r.errors.confirmedPassword:null},r.getFieldProps("confirmedPassword"))),Object(u.jsxs)("div",{children:[Object(u.jsx)(d.b,{to:"/login",children:Object(u.jsx)(w,{children:" Cancel "})}),Object(u.jsx)(w,{type:"submit",children:" Register "})]})]})]})},B={isNewPassword:!1},H=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.setNewPassword.isNewPassword})),r=Object(l.g)(),s=Object(U.a)({initialValues:{password:"",confirmPassword:""},validate:function(e){var t={};return e.password?e.password.length<8&&(t.password="Password must be at least 8 symbols"):t.password="Password is required",e.password&&!e.confirmPassword?t.confirmPassword="Confirm your password":e.password!==e.confirmPassword&&(t.confirmPassword="You entered two different passwords."),t},onSubmit:function(t){var s,n;e((s=t.password,n=r.token,function(e){e(W("loading")),A(s,n).then((function(){e({type:"setNewPassword/SET-NEW-PASSWORD"}),e(W("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message;alert(t)}))}))}});return t?Object(u.jsx)(l.a,{to:"/login"}):Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:p.a.bgr,children:[Object(u.jsx)("h1",{children:"it-incubator"}),Object(u.jsx)("h2",{children:"Set new password"}),Object(u.jsxs)("form",{onSubmit:s.handleSubmit,children:[Object(u.jsx)(y,Object(h.a)({type:"password",placeholder:"New password"},s.getFieldProps("password"))),Object(u.jsx)(y,Object(h.a)({type:"password",placeholder:"Confirm your new password",error:s.touched.confirmPassword?s.errors.confirmPassword:null},s.getFieldProps("confirmPassword")))]}),Object(u.jsx)(w,{type:"submit",onClick:function(){alert("blaaay")},children:"Set new password"})]})})},K={recoveredPassword:!1},Y=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.forgotPassword.recoveredPassword})),r=Object(U.a)({initialValues:{email:""},validate:function(e){var t={};return e.email?e.email.length<11&&(t.email="Email should be more 10 symbols"):t.email="Email is required",t},onSubmit:function(t){e(function(e,t){return function(r){r(W("loading")),I(e,t).then((function(){r({type:"recoverPassword/CHANGE-PASSWORD"}),r(W("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message;alert(t)}))}}(t.email,"<div style=\"background-color: lime; padding: 15px\">\n            password recovery link:\t<a href='https://Peleka.github.io/cards-game/#/new-password/$token$'>link</a>\n            </div>"))}});return Object(u.jsxs)("div",{className:p.a.bgr,children:[Object(u.jsx)("h1",{children:"it-incubator"}),Object(u.jsx)("h2",{children:"Forgot your password?"}),t?Object(u.jsx)($,{email:r.values.email}):Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:r.handleSubmit,children:[Object(u.jsx)(y,Object(h.a)({type:"email",placeholder:"Email"},r.getFieldProps("email"))),Object(u.jsx)(w,{type:"submit",children:"Send instructions"})]})})]})},$=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:"Check your Email"}),Object(u.jsxs)("span",{children:["click the link in the message in your email ",e.email]})]})},J=function(){return Object(u.jsxs)("div",{children:["TestPage",Object(u.jsx)(y,{}),Object(u.jsx)(w,{}),Object(u.jsx)(v,{})]})},z="/login",Q="/register",X="/profile",ee="/forgot-password",te="/new-password",re="/test",se=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{path:"/",exact:!0,render:function(){return Object(u.jsx)(l.a,{to:re})}}),Object(u.jsx)(l.b,{path:z,render:function(){return Object(u.jsx)(G,{})}}),Object(u.jsx)(l.b,{path:Q,render:function(){return Object(u.jsx)(Z,{})}}),Object(u.jsx)(l.b,{path:ee,render:function(){return Object(u.jsx)(Y,{})}}),Object(u.jsx)(l.b,{path:te,render:function(){return Object(u.jsx)(H,{})}}),Object(u.jsx)(l.b,{path:X,render:function(){return Object(u.jsx)(q,{})}}),Object(u.jsx)(l.b,{path:re,render:function(){return Object(u.jsx)(J,{})}}),Object(u.jsx)(l.b,{render:function(){return Object(u.jsx)(j,{})}})]})})},ne=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.auth.isLoggedIn}));return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:i.a.wrapper,children:[Object(u.jsx)(d.b,{to:z,activeClassName:i.a.active,children:"Login"}),Object(u.jsx)(d.b,{to:re,activeClassName:i.a.active,children:"Test"}),Object(u.jsx)(d.b,{to:Q,activeClassName:i.a.active,children:"Register"}),Object(u.jsx)(d.b,{to:X,activeClassName:i.a.active,children:"Profile"}),Object(u.jsx)(d.b,{to:ee,activeClassName:i.a.active,children:"ForgotPassword"}),Object(u.jsx)(d.b,{to:te,activeClassName:i.a.active,children:"SetNewPassword"}),Object(u.jsx)(w,{onClick:function(){e(D),console.log(t)},children:"Log out"})]})})},ae=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(d.a,{children:[Object(u.jsx)(ne,{}),Object(u.jsx)(se,{})]})})},ce=r(98),oe=function(){var e=Object(C.c)((function(e){return e.app.status}));return Object(u.jsxs)("div",{className:"App",children:["loading"===e&&Object(u.jsx)(ce.a,{}),Object(u.jsx)(ae,{})]})},ie=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,99)).then((function(t){var r=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),s(e),n(e),a(e),c(e)}))},de=r(31),le=r(55),ue=Object(de.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGGED-IN":return Object(h.a)(Object(h.a)({},e),{},{isLoggedIn:t.value});case"login/SET-USER-DATA":return Object(h.a)(Object(h.a)({},e),{},{userData:t.payload});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET-SIGN-UP":return Object(h.a)(Object(h.a)({},e),{},{isRegistered:t.isRegistered});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":return Object(h.a)(Object(h.a)({},e),{},{status:t.status});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"recoverPassword/CHANGE-PASSWORD":return Object(h.a)(Object(h.a)({},e),{},{recoveredPassword:!0});default:return e}},setNewPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setNewPassword/SET-NEW-PASSWORD":return Object(h.a)(Object(h.a)({},e),{},{isNewPassword:!0});default:return e}}}),je=Object(de.c)(ue,Object(de.a)(le.a)),be=je;window.store=je,c.a.render(Object(u.jsx)(C.a,{store:be,children:Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(oe,{})})}),document.getElementById("root")),ie()}},[[86,1,2]]]);
//# sourceMappingURL=main.187234b1.chunk.js.map