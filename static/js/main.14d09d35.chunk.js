(this["webpackJsonpcards-game"]=this["webpackJsonpcards-game"]||[]).push([[0],{19:function(e,t,n){e.exports={active:"Header_active__2DgLn",wrapper:"Header_wrapper__YVqso"}},25:function(e,t,n){e.exports={superInput:"SuperInputText_superInput__2j4-_",errorInput:"SuperInputText_errorInput__3onHK",error:"SuperInputText_error__geYwr"}},29:function(e,t,n){e.exports={default:"SuperButton_default__1E02K",red:"SuperButton_red__3SVRd"}},30:function(e,t,n){e.exports={checkbox:"SuperCheckbox_checkbox__2MmIV",spanClassName:"SuperCheckbox_spanClassName__3WU-E"}},45:function(e,t,n){e.exports={form:"Register_form__1UEj7"}},51:function(e,t,n){},52:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(20),c=n.n(s),o=(n(51),n(52),n(19)),i=n.n(o),d=n(9),u=n(3),j=n(1),l=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:"404"}),Object(j.jsx)("div",{children:"Page not found!"}),Object(j.jsx)("div",{children:"\u2014\u0e05/\u1420.\u032b .\u141f\\\u0e05\u2014"})]})},b=n(5),h=n(18),p=n(29),m=n.n(p),O=function(e){var t=e.red,n=e.className,r=Object(h.a)(e,["red","className"]),a="".concat(t?m.a.red:m.a.default," ").concat(n);return Object(j.jsx)("button",Object(b.a)({className:a},r))},x=n(30),f=n.n(x),g=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,r=e.className,a=(e.spanClassName,e.children),s=Object(h.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),c="".concat(f.a.checkbox," ").concat(r||"");return Object(j.jsxs)("label",{children:[Object(j.jsx)("input",Object(b.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:c},s)),a&&Object(j.jsx)("span",{className:f.a.spanClassName,children:a})]})},v=n(25),w=n.n(v),C=function(e){e.type;var t=e.onChange,n=e.onChangeText,r=e.onKeyPress,a=e.onEnter,s=e.error,c=e.className,o=e.spanClassName,i=Object(h.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),d="".concat(w.a.error," ").concat(o||""),u="".concat(s?w.a.errorInput:w.a.superInput," ").concat(c);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",Object(b.a)({type:"text",onChange:function(e){t&&t(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){r&&r(e),a&&"Enter"===e.key&&a()},className:u},i)),s&&Object(j.jsx)("span",{className:d,children:s})]})},y=n(10),_=n(42),N=n.n(_).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),P=function(e,t,n){return N.post("auth/login",{email:e,password:t,rememberMe:n})},S=function(){return N.delete("auth/me")},I=function(e,t){return N.post("/auth/register",{email:e,password:t})},E={isLoggedIn:!1,userData:null},T=function(e){return{type:"login/SET-IS-LOGGED-IN",value:e}},k=function(e){return{type:"login/SET-USER-DATA",payload:e}},L=function(e){try{S().then((function(){e(T(!1)),e(k(null))}))}catch(t){}},R=n(24),A=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.auth.isLoggedIn})),n=Object(R.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password||(t.password="Password is required"),t},onSubmit:function(t){e(function(e){return function(t){try{P(e.email,e.password,e.rememberMe).then((function(e){var n={_id:e.data._id,name:e.data.name,email:e.data.email,avatar:e.data.avatar||null,publicCardPacksCount:e.data.publicCardPacksCount};t(k(n)),t(T(!0))}))}catch(r){var n=r.response?r.response.data.error:r.message;alert(n)}}}(t)),n.resetForm()}});return t?Object(j.jsx)(u.a,{to:"/profile"}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:" Login "}),Object(j.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(j.jsx)(C,{type:"email",placeholder:"Enter your E-mail",name:"email",onChange:n.handleChange,value:n.values.email})," ",Object(j.jsx)("br",{}),Object(j.jsx)(C,{type:"password",placeholder:"Enter your password",name:"password",onChange:n.handleChange,value:n.values.password})," ",Object(j.jsx)("br",{}),Object(j.jsx)(g,{name:"rememberMe",onChange:n.handleChange})," Remember me ",Object(j.jsx)("br",{}),Object(j.jsx)(O,{type:"submit",children:"Login"})]}),Object(j.jsx)(d.b,{to:"/recovery",children:"Forgot Password"})," ",Object(j.jsx)("br",{}),Object(j.jsx)(d.b,{to:"/register",children:Object(j.jsx)(O,{children:" Sign Up "})})]})},F=function(){return Object(y.c)((function(e){return e.auth.isLoggedIn}))?Object(j.jsx)("div",{children:"Profile"}):Object(j.jsx)(A,{})},D=n(45),U=n.n(D),G={isRegistered:!1},M=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.register.isRegistered})),n=Object(R.a)({initialValues:{email:"",password:"",confirmedPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address."):t.email="Email is required",e.password?e.password.length<8&&(t.password="Password must be at least 8 symbols"):t.password="Password is required",e.password&&!e.confirmedPassword?t.confirmedPassword="Confirm your password":e.password!==e.confirmedPassword&&(t.confirmedPassword="You entered two different passwords."),t},onSubmit:function(t){t.password===t.confirmedPassword&&(e(function(e){return function(t){I(e.email,e.password).then((function(){t({type:"register/SET-SIGN-UP",isRegistered:!0})})).catch((function(e){var t=e.response?e.response.data.error:e.message;alert(t)}))}}(t)),n.resetForm())}});return t?Object(j.jsx)(u.a,{to:"./login"}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Registration"}),Object(j.jsxs)("form",{onSubmit:n.handleSubmit,className:U.a.form,children:[Object(j.jsx)(C,{type:"email",placeholder:"Enter your email",name:"email",onChange:n.handleChange,value:n.values.email}),Object(j.jsx)(C,{type:"password",placeholder:"Enter your password",name:"password",onChange:n.handleChange,value:n.values.password}),Object(j.jsx)(C,Object(b.a)(Object(b.a)({type:"password",placeholder:"Confirm your password",error:n.touched.confirmedPassword?n.errors.confirmedPassword:null},n.getFieldProps("confirmedPassword")),{},{onChange:n.handleChange,value:n.values.confirmedPassword})),Object(j.jsxs)("div",{children:[Object(j.jsx)(d.b,{to:"/login",children:Object(j.jsx)(O,{children:" Cancel "})}),Object(j.jsx)(O,{type:"submit",children:" Register "})]})]})]})},Z=function(){return Object(j.jsx)("div",{children:"NewPassword"})},q=function(){return Object(j.jsx)("div",{children:"PasswordRecovery"})},K=function(){return Object(j.jsxs)("div",{children:["TestPage",Object(j.jsx)(C,{}),Object(j.jsx)(O,{}),Object(j.jsx)(g,{})]})},V="/login",B="/register",H="/profile",Y="/password-recovery",J="/new-password",$="/test",W=function(){return Object(j.jsx)("div",{children:Object(j.jsxs)(u.d,{children:[Object(j.jsx)(u.b,{path:"/",exact:!0,render:function(){return Object(j.jsx)(u.a,{to:$})}}),Object(j.jsx)(u.b,{path:V,render:function(){return Object(j.jsx)(A,{})}}),Object(j.jsx)(u.b,{path:B,render:function(){return Object(j.jsx)(M,{})}}),Object(j.jsx)(u.b,{path:Y,render:function(){return Object(j.jsx)(q,{})}}),Object(j.jsx)(u.b,{path:J,render:function(){return Object(j.jsx)(Z,{})}}),Object(j.jsx)(u.b,{path:H,render:function(){return Object(j.jsx)(F,{})}}),Object(j.jsx)(u.b,{path:$,render:function(){return Object(j.jsx)(K,{})}}),Object(j.jsx)(u.b,{render:function(){return Object(j.jsx)(l,{})}})]})})},z=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.auth.isLoggedIn}));return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:i.a.wrapper,children:[Object(j.jsx)(d.b,{to:V,activeClassName:i.a.active,children:"Login"}),Object(j.jsx)(d.b,{to:$,activeClassName:i.a.active,children:"Test"}),Object(j.jsx)(d.b,{to:B,activeClassName:i.a.active,children:"Register"}),Object(j.jsx)(d.b,{to:H,activeClassName:i.a.active,children:"Profile"}),Object(j.jsx)(O,{onClick:function(){e(L),console.log(t)},children:"Log out"})]})})},Q=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(z,{}),Object(j.jsx)(W,{})]})})},X=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(Q,{})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},te=n(26),ne=n(46),re=Object(te.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGGED-IN":return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:t.value});case"login/SET-USER-DATA":return Object(b.a)(Object(b.a)({},e),{},{userData:t.payload});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET-SIGN-UP":return Object(b.a)(Object(b.a)({},e),{},{isRegistered:t.isRegistered});default:return e}}}),ae=Object(te.c)(re,Object(te.a)(ne.a)),se=ae;window.store=ae,c.a.render(Object(j.jsx)(y.a,{store:se,children:Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(X,{})})}),document.getElementById("root")),ee()}},[[76,1,2]]]);
//# sourceMappingURL=main.14d09d35.chunk.js.map