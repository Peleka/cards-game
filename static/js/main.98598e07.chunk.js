(this["webpackJsonpcards-game"]=this["webpackJsonpcards-game"]||[]).push([[0],{109:function(e,t,c){},110:function(e,t,c){},137:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(34),s=c.n(r),i=(c(109),c(110),c(29)),o=c.n(i),d=c(12),l=c(9),u=c(1),j=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"404"}),Object(u.jsx)("div",{children:"Page not found!"}),Object(u.jsx)("div",{children:"\u2014\u0e05/\u1420.\u032b .\u141f\\\u0e05\u2014"})]})},b=c(3),O=c(26),p=c.n(O),h=c(43),f=c(65),m=c.n(f),x=function(e){var t=e.red,c=e.className,a=Object(h.a)(e,["red","className"]),n="".concat(t?m.a.red:m.a.default," ").concat(c);return Object(u.jsx)("button",Object(b.a)({className:n},a))},g=c(66),C=c.n(g),v=function(e){e.type;var t=e.onChange,c=e.onChangeChecked,a=e.className,n=(e.spanClassName,e.children),r=Object(h.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(C.a.checkbox," ").concat(a||"");return Object(u.jsxs)("label",{children:[Object(u.jsx)("input",Object(b.a)({type:"checkbox",onChange:function(e){t&&t(e),c&&c(e.currentTarget.checked)},className:s},r)),n&&Object(u.jsx)("span",{className:C.a.spanClassName,children:n})]})},k=c(59),P=c.n(k),_=function(e){e.type;var t=e.onChange,c=e.onChangeText,a=e.onKeyPress,n=e.onEnter,r=e.error,s=e.className,i=e.spanClassName,o=Object(h.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),d="".concat(P.a.error," ").concat(i||""),l="".concat(P.a.superInput," ").concat(r?P.a.errorInput:""," ").concat(s);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",Object(b.a)({type:"text",onChange:function(e){t&&t(e),c&&c(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),n&&"Enter"===e.key&&n()},className:l},o)),r&&Object(u.jsx)("span",{className:d,children:r})]})},w=c(4),S=c(81),N=c.n(S).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),y=function(e,t,c){return N.post("auth/login",{email:e,password:t,rememberMe:c})},T=function(){return N.delete("auth/me")},E=function(){return N.post("auth/me")},A=function(e,t){return N.post("/auth/register",{email:e,password:t})},I=function(e,t){return N.post("/auth/forgot",{email:e,message:t})},D=function(e,t){return N.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},R=function(e,t,c,a,n,r,s){return N.get("/cards/pack?pageCount=".concat(e,"&sortPacks=").concat(s,"&packName=").concat(c,"&page=").concat(t,"&min=").concat(a,"&max=").concat(n,"&user_id=").concat(r))},M=function(e){return N.post("/cards/pack",{cardsPack:e})},L=function(e){return N.delete("/cards/pack?id=".concat(e))},U=function(e,t){return N.put("/cards/pack",{cardsPack:{_id:e,name:t}})},q=function(e,t,c,a){return N.get("/cards/card",{params:{cardsPack_id:e,pageCount:c,page:t,sortCards:a}})},K=function(e){return N.post("/cards/card",{card:e})},F=function(e){return N.delete("/cards/card?id=".concat(e))},G=function(e){return N.put("cards/card",{card:{_id:e._id,question:e.question,answer:e.answer}})},B=function(e,t){return N.put("/cards/grade",{grade:t,card_id:e})},H={status:"idle",isInitialized:!1},W=function(e){return{type:"APP/SET-STATUS",status:e}},Z=function(e){return{type:"APP/SET-IS-INITIALIZED",isInitialized:e}},V={userData:{avatar:"",created:"",email:"",isAdmin:!1,name:"",publicCardPacksCount:0,rememberMe:!1,token:"",tokenDeathTime:0,updated:"",verified:!1,__v:0,_id:""}||null,isLoggedIn:!1,authError:""},z=function(e,t){return{type:"login/SET-IS-LOGGED-IN",value:e,userData:t}},X=function(e){try{T().then((function(){e({type:"login/SET-IS-LOGGED-OUT",value:!1})}))}catch(t){}},Y=c(35),J=c(84),$=c.n(J),Q=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.auth.isLoggedIn})),c=Object(w.c)((function(e){return e.auth.authError})),a=Object(Y.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password||(t.password="Password is required"),t},onSubmit:function(t){e(function(e){return function(t){t(W("loading")),y(e.email,e.password,e.rememberMe).then((function(e){t(z(!0,e.data)),t(W("succeeded"))})).catch((function(e){var c=e.response?e.response.data.error:e.message;t({type:"login/SET-AUTH-ERROR",errorMessage:c}),t(W("failed"))}))}}(t)),a.resetForm()}});return t?Object(u.jsx)(l.a,{to:"/profile"}):Object(u.jsxs)("div",{className:p.a.bgr,children:[Object(u.jsx)("h2",{children:" Login "}),Object(u.jsxs)("form",{onSubmit:a.handleSubmit,className:p.a.form,children:[Object(u.jsx)(_,Object(b.a)({type:"email",placeholder:"E-mail",error:a.touched.email?a.errors.email:null},a.getFieldProps("email"))),Object(u.jsx)(_,Object(b.a)({type:"password",placeholder:"Password",error:a.touched.password?a.errors.password:null},a.getFieldProps("password"))),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{children:[Object(u.jsx)(v,Object(b.a)({},a.getFieldProps("rememberMe"))),"Remember me"]}),Object(u.jsx)("div",{className:$.a.authError,children:c}),Object(u.jsx)(x,{type:"submit",children:"Login"})]}),Object(u.jsx)(d.b,{to:"/forgot-password",children:"Forgot Password"})," ",Object(u.jsx)("br",{}),Object(u.jsx)(d.b,{to:"/register",children:"Sign Up"})]})},ee=c.p+"static/media/cloud.01bc04ad.png",te=c(69),ce=c.n(te),ae=function(){var e=Object(w.c)((function(e){return e.auth.isLoggedIn})),t=Object(w.c)((function(e){var t;return null===(t=e.auth.userData)||void 0===t?void 0:t.name})),c=Object(w.c)((function(e){var t;return null===(t=e.auth.userData)||void 0===t?void 0:t.publicCardPacksCount})),a=null!==t&&void 0!==t?t:"Stranger";return e?Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:ce.a.hello,children:[Object(u.jsxs)("h2",{children:["Hello, ",a,"!"]}),Object(u.jsxs)("h3",{children:["You have ",c," packs"]}),Object(u.jsx)("div",{className:ce.a.cloud,children:Object(u.jsx)("img",{src:ee,alt:"Cloud"})})]})}):Object(u.jsx)(Q,{})},ne={isRegistered:!1},re=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.register.isRegistered})),c=Object(Y.a)({initialValues:{email:"",password:"",confirmedPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address."):t.email="Email is required",e.password?e.password.length<8&&(t.password="Password must be at least 8 symbols"):t.password="Password is required",e.password&&!e.confirmedPassword?t.confirmedPassword="Confirm your password":e.password!==e.confirmedPassword&&(t.confirmedPassword="You entered two different passwords."),t},onSubmit:function(t){t.password===t.confirmedPassword&&(e(function(e){return function(t){t(W("loading")),A(e.email,e.password).then((function(){t({type:"register/SET-SIGN-UP",isRegistered:!0}),t(W("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message;alert(t)}))}}(t)),c.resetForm())}});return t?Object(u.jsx)(l.a,{to:"./login"}):Object(u.jsxs)("div",{className:p.a.bgr,children:[Object(u.jsx)("h1",{children:"it-incubator"}),Object(u.jsx)("h2",{children:"Sign In"}),Object(u.jsxs)("form",{onSubmit:c.handleSubmit,className:p.a.form,children:[Object(u.jsx)(_,Object(b.a)({type:"email",placeholder:"Email",error:c.touched.email?c.errors.email:null},c.getFieldProps("email"))),Object(u.jsx)(_,Object(b.a)({type:"password",placeholder:"Password",error:c.touched.password?c.errors.password:null},c.getFieldProps("password"))),Object(u.jsx)(_,Object(b.a)({type:"password",placeholder:"Confirm your password",error:c.touched.confirmedPassword?c.errors.confirmedPassword:null},c.getFieldProps("confirmedPassword"))),Object(u.jsxs)("div",{children:[Object(u.jsx)(d.b,{to:"/login",children:Object(u.jsx)(x,{children:" Cancel "})}),Object(u.jsx)(x,{type:"submit",children:" Register "})]})]})]})},se={isNewPassword:!1},ie=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.setNewPassword.isNewPassword})),c=Object(l.g)().token,a=Object(Y.a)({initialValues:{password:"",confirmPassword:""},validate:function(e){var t={};return e.password?e.password.length<8&&(t.password="Password must be at least 8 symbols"):t.password="Password is required",e.password&&!e.confirmPassword?t.confirmPassword="Confirm your password":e.password!==e.confirmPassword&&(t.confirmPassword="You entered two different passwords."),t},onSubmit:function(t){var n,r;t.password===t.confirmPassword&&(e((n=t.confirmPassword,r=c,function(e){e(W("loading")),D(n,r).then((function(){e({type:"setNewPassword/SET-NEW-PASSWORD"}),e(W("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message;alert(t)}))})),a.resetForm())}});return t?Object(u.jsx)(l.a,{to:"/login"}):Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:p.a.bgr,children:[Object(u.jsx)("h1",{children:"it-incubator"}),Object(u.jsx)("h2",{children:"Set new password"}),Object(u.jsxs)("form",{onSubmit:a.handleSubmit,className:p.a.form,children:[Object(u.jsx)(_,Object(b.a)({type:"password",placeholder:"New password",error:a.touched.password?a.errors.password:null},a.getFieldProps("password"))),Object(u.jsx)(_,Object(b.a)({type:"password",placeholder:"Confirm your new password",error:a.touched.confirmPassword?a.errors.confirmPassword:null},a.getFieldProps("confirmPassword"))),Object(u.jsx)(x,{type:"submit",children:"Set new password"})]})]})})},oe={recoveredPassword:!1},de=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.forgotPassword.recoveredPassword})),c=Object(Y.a)({initialValues:{email:""},validate:function(e){var t={};return e.email?e.email.length<11&&(t.email="Email should be more 10 symbols"):t.email="Email is required",t},onSubmit:function(t){e(function(e,t){return function(c){c(W("loading")),I(e,t).then((function(){c({type:"recoverPassword/CHANGE-PASSWORD"}),c(W("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message;alert(t)}))}}(t.email,"<div style=\"background-color: lime; padding: 15px\">\n            password recovery link:\t<a href='https://Peleka.github.io/cards-game/#/new-password/$token$'>link</a>\n            </div>"))}});return Object(u.jsxs)("div",{className:p.a.bgr,children:[Object(u.jsx)("h1",{children:"it-incubator"}),Object(u.jsx)("h2",{children:"Forgot your password?"}),t?Object(u.jsx)(le,{email:c.values.email}):Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:c.handleSubmit,children:[Object(u.jsx)(_,Object(b.a)({type:"email",placeholder:"Email"},c.getFieldProps("email"))),Object(u.jsx)(x,{type:"submit",children:"Send instructions"})]})})]})},le=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:"Check your Email"}),Object(u.jsxs)("span",{children:["click the link in the message in your email ",e.email]})]})},ue=c(7),je=c(158),be={cardPacks:null,maxCardsCount:6,minCardsCount:0,pageCount:8,packId:"",name:"",totalPacksCount:0,pageSize:10,currentPage:1,userId:"",sortPacks:"0updated"},Oe=function(e){return{type:"PACKS/SET-USER-ID",userId:e}},pe=function(e){return{type:"PACKS/SET-NAME",name:e}},he=function(e){return{type:"PACKS/SET-SORT",sortValue:e}},fe=function(){return function(e,t){e(W("loading"));var c=t(),a=c.packs.currentPage,n=c.packs.name,r=c.packs.minCardsCount,s=c.packs.maxCardsCount,i=c.packs.userId,o=c.packs.pageCount,d=c.packs.sortPacks;R(o,a,n,r,s,i,d).then((function(t){e({type:"SET-TOTAL-PACKS-COUNT",totalPacks:t.data.cardPacksTotalCount}),e({type:"PACKS/SET-PACKS",data:t.data.cardPacks}),e(W("succeeded"))})).catch((function(){e(W("failed")),console.log("get packs error")}))}},me=c(27),xe=c.n(me),ge=c(90),Ce=c.n(ge),ve=c(54),ke=c.n(ve),Pe=c(60),_e=c(23),we=c.n(_e),Se=function(e){var t=Object(a.useState)(e.titlePack?e.titlePack:""),c=Object(ue.a)(t,2),n=c[0],r=c[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:we.a.wrapperModal,children:Object(u.jsxs)("div",{className:we.a.modal,children:[Object(u.jsx)("h3",{children:"Enter new pack name"}),Object(u.jsxs)("form",{children:[Object(u.jsx)(_,{type:"text",value:n,onChange:function(e){r(e.currentTarget.value)}}),Object(u.jsxs)("div",{className:we.a.buttonBlock,children:[Object(u.jsx)(x,{type:"submit",onClick:function(){e.addNewPack(n),e.closeAddEditPackModal()},children:"Ok"}),Object(u.jsx)(x,{onClick:function(){e.closeAddEditPackModal()},children:"Cancel"})]})]})]})})})},Ne=function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:we.a.wrapperModal,children:Object(u.jsxs)("div",{className:we.a.modal,children:[Object(u.jsx)("h3",{style:{color:"darkred"},children:e.title}),Object(u.jsx)("form",{children:Object(u.jsxs)("div",{className:we.a.buttonBlock,children:[Object(u.jsx)(x,{type:"submit",onClick:function(){e.deleteItem(),e.closeDeleteModal()},children:"Ok"}),Object(u.jsx)(x,{onClick:function(){e.closeDeleteModal()},children:"Cancel"})]})})]})})})},ye=c(86),Te=c.n(ye),Ee=n.a.memo((function(e){var t=new Date(e.updated).toLocaleDateString(["ban","id"]),c=Object(a.useState)(!1),n=Object(ue.a)(c,2),r=n[0],s=n[1],i=Object(a.useState)(!1),o=Object(ue.a)(i,2),l=o[0],j=o[1];return Object(u.jsxs)("div",{className:xe.a.packItem,children:[Object(u.jsx)("div",{className:xe.a.packSpecification,children:e.user_name}),Object(u.jsx)("div",{className:xe.a.packSpecification,children:e.name}),Object(u.jsx)("div",{className:xe.a.packSpecification,children:e.cardsCount}),Object(u.jsx)("div",{className:xe.a.packSpecification,children:t}),Object(u.jsx)("div",{className:xe.a.packSpecification,children:Object(u.jsx)(d.b,{to:"/cards/".concat(e._id),className:xe.a.cardsLink,children:"cards"})}),Object(u.jsx)("div",{className:xe.a.packSpecification,children:Object(u.jsx)(d.b,{to:"/learn/".concat(e._id),children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Te.a,{})})})}),Object(u.jsx)("div",{className:xe.a.packSpecification,children:e.user_id===e.currentUserId?Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(ke.a,{onClick:function(){s(!0)},style:{color:Pe.a[500]}})}):""}),Object(u.jsx)("div",{className:xe.a.packSpecification,children:e.user_id===e.currentUserId?Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Ce.a,{onClick:function(){j(!0)},color:"secondary"})}):""}),r&&Object(u.jsx)(Se,{closeAddEditPackModal:function(){s(!1)},addNewPack:function(t){e.updatePack(e._id,t)},titlePack:e.name}),l&&Object(u.jsx)(Ne,{closeDeleteModal:function(){j(!1)},deleteItem:function(){e.delPack(e._id)},title:"Are you sure you want to delete pack '".concat(e.name,"'?")})]})})),Ae=c(25),Ie=c.n(Ae),De=c(159),Re=c(56),Me=c.n(Re),Le=c(55),Ue=c.n(Le),qe=c(92),Ke=c.n(qe),Fe=n.a.memo((function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.packs})),c=t.cardPacks,n=t.totalPacksCount,r=t.pageSize,s=t.currentPage,i=t.minCardsCount,o=t.maxCardsCount,d=t.sortPacks,l=Object(w.c)((function(e){return e.auth.isLoggedIn})),j=Object(w.c)((function(e){return e.auth.userData._id})),O=Object(a.useState)(!1),p=Object(ue.a)(O,2),h=p[0],f=p[1],m=Object(a.useState)(""),g=Object(ue.a)(m,2),C=g[0],v=g[1],k=h?"".concat(Ie.a.activeButton):"",P=h?"":"".concat(Ie.a.activeButton);Object(a.useEffect)((function(){e(fe())}),[e,i,o]);for(var S=Object(a.useState)(!1),N=Object(ue.a)(S,2),y=N[0],T=N[1],E=Object(a.useCallback)((function(t){e(function(e){return function(t){t(W("loading")),L(e).then((function(){t(W("succeeded")),t(fe()),console.log("pack deleted successfully")})).catch((function(){t(W("failed")),console.log("delete pack error")}))}}(t))}),[e]),A=Object(a.useCallback)((function(t,c){e(function(e,t){return function(c){c(W("loading")),U(e,t).then((function(){c(fe()),console.log("pack updated successfully"),c(W("succeeded"))})).catch((function(){c(W("failed")),console.log("update pack error")}))}}(t,c))}),[e]),I="1updated"===d?Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Ue.a,{onClick:function(){e(he("0updated")),e(fe())},color:"primary"})}):Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Me.a,{onClick:function(){e(he("1updated")),e(fe())},color:"primary"})}),D=function(){e(pe(C)),e(fe()),v(""),e(pe(""))},R=[],q=Math.ceil(n/r),K=1;K<=q;K++)R.push(K);var F=c&&c.map((function(e,t){return Object(u.jsx)(Ee,Object(b.a)(Object(b.a)({},e),{},{delPack:E,updatePack:A,currentUserId:j}),t)}));return l?(console.log("Packs render"),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:Ie.a.title,children:Object(u.jsx)("h1",{children:"Packs"})}),Object(u.jsxs)("div",{className:Ie.a.packsContainer,children:[Object(u.jsxs)("div",{className:Ie.a.packsField,children:[Object(u.jsxs)("div",{className:Ie.a.packContents,children:[Object(u.jsx)("div",{children:"username"}),Object(u.jsx)("div",{children:"name"}),Object(u.jsx)("div",{children:"count"}),Object(u.jsx)("div",{children:I}),Object(u.jsx)("div",{children:"update"}),Object(u.jsx)("div",{children:Object(u.jsx)(x,{onClick:function(){T(!0)},children:"add"})})]}),Object(u.jsx)("div",{children:F})]}),y&&Object(u.jsx)(Se,{closeAddEditPackModal:function(){T(!1)},addNewPack:function(t){var c;e((c={name:t},function(e){e(W("loading")),M(c).then((function(){e(fe()),console.log("pack added successfully"),e(W("succeeded"))})).catch((function(){e(W("failed")),console.log("add pack error")}))}))},titlePack:"new pack name"}),Object(u.jsxs)("div",{className:Ie.a.sidebar,children:[Object(u.jsxs)("div",{className:Ie.a.showMyAllPacks,children:[Object(u.jsxs)("span",{className:k,children:[Object(u.jsx)(x,{onClick:function(){e(Oe(j)),e(fe()),f(!0)},children:" my packs "})," "]}),Object(u.jsxs)("span",{className:P,children:[Object(u.jsx)(x,{onClick:function(){e(Oe("")),e(fe()),f(!1)},children:" all packs "})," "]})]}),Object(u.jsx)("div",{className:Ie.a.filterByCardsCount,children:Object(u.jsx)(De.a,{style:{margin:"0",padding:"0"},value:[i,o],onChangeCommitted:function(t,c){c instanceof Array&&(e(function(e){return{type:"PACKS/SET-MIN-CARDS_COUNT",minCardsCount:e}}(c[0])),e(function(e){return{type:"PACKS/SET-MAX-CARDS_COUNT",maxCardsCount:e}}(c[1])))},valueLabelDisplay:"auto","aria-labelledby":"range-slider",name:"cards count",min:0,max:20})}),Object(u.jsxs)("div",{className:Ie.a.search,children:[Object(u.jsx)(_,{onChangeText:function(e){return v(e)},onEnter:D,placeholder:"search packs",value:C}),Object(u.jsx)(Ke.a,{onClick:D})]})]})]}),Object(u.jsx)("div",{className:Ie.a.paginator,children:Object(u.jsx)(je.a,{count:q,boundaryCount:1,defaultPage:1,page:s,onChange:function(t,c){return function(t){e({type:"SET-CURRENT-PAGE",pageNumber:t}),e(fe())}(c)}})})]})):Object(u.jsx)(Q,{})})),Ge=c(71),Be=c.n(Ge),He=c(36),We=c.n(He),Ze=c(155),Ve=function(e){var t=Object(a.useState)(e.questionPlaceholder),c=Object(ue.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(e.answerPlaceholder),i=Object(ue.a)(s,2),o=i[0],d=i[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:we.a.wrapperModal,children:Object(u.jsxs)("div",{className:we.a.modal,children:[Object(u.jsx)("h3",{children:e.title}),Object(u.jsxs)("form",{children:[Object(u.jsx)(_,{type:"text",value:n,onChange:function(e){r(e.currentTarget.value)}}),Object(u.jsx)(_,{type:"text",value:o,onChange:function(e){d(e.currentTarget.value)}}),Object(u.jsxs)("div",{className:we.a.buttonBlock,children:[Object(u.jsx)(x,{type:"submit",onClick:function(){e.addNewCard(n,o),e.closeAddEditCardModal()},children:"Ok"}),Object(u.jsx)(x,{onClick:function(){e.closeAddEditCardModal()},children:"Cancel"})]})]})]})})})},ze=function(e){var t=new Date(e.updated).toLocaleDateString(["ban","id"]),c=Object(a.useState)(!1),n=Object(ue.a)(c,2),r=n[0],s=n[1],i=Object(a.useState)(!1),o=Object(ue.a)(i,2),d=o[0],l=o[1];return Object(u.jsxs)("div",{className:We.a.cardItem,children:[Object(u.jsx)("div",{className:We.a.cardSpecification,children:e.question}),Object(u.jsx)("div",{className:We.a.cardSpecification,children:e.answer}),Object(u.jsx)("div",{className:We.a.cardSpecification,children:e.grade}),Object(u.jsx)("div",{className:We.a.cardSpecification,children:t}),Object(u.jsx)("div",{className:We.a.cardSpecification,children:e.user_id===e.currentUserId?Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(ke.a,{onClick:function(){s(!0)},style:{color:Pe.a[500]}})}):""}),Object(u.jsx)("div",{className:We.a.cardSpecification,children:e.user_id===e.currentUserId?Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Ze.a,{onClick:function(){l(!0)},color:"secondary"})}):""}),r&&Object(u.jsx)(Ve,{addNewCard:function(t,c){return e.updateCard({_id:e._id,question:t,answer:c})},closeAddEditCardModal:function(){s(!1)},title:"Edit your card",questionPlaceholder:e.question,answerPlaceholder:e.answer}),d&&Object(u.jsx)(Ne,{closeDeleteModal:function(){l(!1)},deleteItem:function(){return e._id&&e.delCard(e._id,e.packId)},title:"Are you sure you want to delete card '".concat(e.question,"'?")})]})},Xe={cards:[],packUserId:"",page:1,pageCount:4,cardsTotalCount:0,minGrade:0,maxGrade:6,sortCards:"0grade"},Ye=function(e){return{type:"CARDS/SET-SORT",sortValue:e}},Je=function(e){return function(t,c){t(W("loading"));var a=c(),n=a.cards.page,r=a.cards.pageCount,s=a.cards.sortCards;q(e,n,r,s).then((function(e){t({type:"CARDS/SET_CARDS_TOTAL_COUNT",totalCards:e.data.cardsTotalCount}),t({type:"CARDS/SET-CARDS",cards:e.data.cards}),t(W("succeeded"))})).catch((function(){t(W("failed")),console.log("get cards error")}))}},$e=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.cards})),c=t.cards,n=t.cardsTotalCount,r=t.pageCount,s=t.sortCards,i=t.page,o=Object(l.g)().packID,d=Object(w.c)((function(e){return e.auth.isLoggedIn})),j=Object(w.c)((function(e){return e.auth.userData._id})),O=Object(w.c)((function(e){return e.packs.userId}));Object(a.useEffect)((function(){e(Je(o))}),[e,o]);for(var p=Object(a.useState)(!1),h=Object(ue.a)(p,2),f=h[0],m=h[1],g=Object(a.useCallback)((function(t,c){e(function(e,t){return function(c){c(W("loading")),F(e).then((function(){c(W("succeeded")),c(Je(t)),console.log("card deleted successfully")})).catch((function(){c(W("failed")),console.log("delete card error")}))}}(t,c))}),[e]),C=Object(a.useCallback)((function(t){e(function(e,t){return function(c){c(W("loading")),G(t).then((function(){c(Je(e))})).catch((function(e){var t=e.response?e.response.data.error:e.message+" , error";c(W("failed")),alert(t)}))}}(o,t))}),[e]),v=[],k=Math.ceil(n/r),P=1;P<=k;P++)v.push(P);var _="0grade"===s?Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Ue.a,{onClick:function(){e(Ye("1grade")),e(Je(o))},color:"primary"})}):Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Me.a,{onClick:function(){e(Ye("0grade")),e(Je(o))},color:"primary"})}),S=c&&c.map((function(e,t){return Object(u.jsx)(ze,Object(b.a)(Object(b.a)({},e),{},{packId:o,delCard:g,updateCard:C,currentUserId:j}),t)}));return d?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Cards"})}),f&&Object(u.jsx)(Ve,{addNewCard:function(t,c){var a;e((a={cardsPack_id:o,question:t,answer:c},function(e){e(W("loading")),K(a).then((function(){e(Je(a.cardsPack_id)),e(W("succeeded"))})).catch((function(t){var c=t.res?t.res.data.error:"Add card failed: ".concat(t.message,".");e(W("failed")),alert(c)}))}))},closeAddEditCardModal:function(){m(!1)},title:"Add new card",questionPlaceholder:"question",answerPlaceholder:"answer"}),Object(u.jsxs)("div",{className:Be.a.cardContents,children:[Object(u.jsx)("div",{children:"question"}),Object(u.jsx)("div",{children:"answer"}),Object(u.jsx)("div",{children:_}),Object(u.jsx)("div",{children:"grade"}),Object(u.jsx)("div",{children:"last update"}),Object(u.jsx)("div",{children:j===O?Object(u.jsx)(x,{onClick:function(){m(!0)},children:"add"}):""})]}),S,Object(u.jsx)("div",{className:Be.a.paginator,children:Object(u.jsx)(je.a,{count:k,boundaryCount:1,defaultPage:1,page:i,onChange:function(t,c){return function(t){e(function(e){return{type:"CARDS/SET_CURRENT_PAGE",page:e}}(t)),e(Je(o))}(c)}})})]}):Object(u.jsx)(Q,{})},Qe=c(93),et=c.n(Qe),tt=function(){return Object(u.jsx)("div",{className:et.a.ldsCircle,children:Object(u.jsx)("div",{})})},ct=c(156),at=c(138),nt=c(45),rt=c.n(nt),st=function(){var e=Object(l.g)().packID,t=Object(w.b)(),c=Object(w.c)((function(e){return e.cards.cards})),n=Object(w.c)((function(e){return e.app.status})),r=Object(a.useState)(0),s=Object(ue.a)(r,2),i=s[0],o=s[1],j=Object(a.useState)(!1),b=Object(ue.a)(j,2),O=b[0],p=b[1],h=Object(a.useState)(!1),f=Object(ue.a)(h,2),m=f[0],g=f[1],C=Object(a.useState)(0),v=Object(ue.a)(C,2),k=v[0],P=v[1];Object(a.useEffect)((function(){t(Je(e))}),[t,e]);return Object(u.jsxs)("div",{children:["loading"===n&&Object(u.jsx)(tt,{}),Object(u.jsx)("div",{className:rt.a.goToPacks,children:Object(u.jsx)(d.b,{to:"/packs",children:"\ud83d\udd19 back to Packs"})}),0===c.length?Object(u.jsx)("div",{children:Object(u.jsx)("span",{children:"There are no cards in this pack..."})}):Object(u.jsx)("div",{children:m?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:rt.a.qOver,children:"The questions are over"}),Object(u.jsx)(x,{onClick:function(){o(0),g(!1)},children:"Start over"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:rt.a.question,children:["Question: ",c[i].question]}),Object(u.jsx)(x,{onClick:function(){p(!0)},disabled:O,children:"CHECK"}),O&&Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:rt.a.answer,children:["Answer: ",c[i].answer]}),Object(u.jsx)("div",{className:rt.a.options,children:["\u043d\u0435 \u0437\u043d\u0430\u043b","\u0437\u0430\u0431\u044b\u043b","\u0434\u043e\u043b\u0433\u043e \u0434\u0443\u043c\u0430\u043b","\u043f\u0435\u0440\u0435\u043f\u0443\u0442\u0430\u043b","\u0437\u043d\u0430\u043b"].map((function(e,t){return Object(u.jsx)(ct.a,{variant:"contained",color:"primary","aria-label":"contained primary button group",children:Object(u.jsx)(at.a,{onClick:function(){P(t+1)},disabled:t+1===k,children:e},t+1)})}))}),Object(u.jsx)(x,{onClick:function(){c.length!==i+1?o(i+1):g(!0),t(function(e,t){return function(c){c(W("loading")),B(e,t).then((function(){c(W("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+" , error";c(W("failed")),alert(t)}))}}(c[i]._id,k)),p(!1),P(0)},children:"NEXT"})]})]})})]})},it="/login",ot="/register",dt="/profile",lt="/forgot-password",ut="/new-password",jt="/packs",bt="/cards/:packID",Ot="/learn/:packID",pt=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{path:"/",exact:!0,render:function(){return Object(u.jsx)(l.a,{to:dt})}}),Object(u.jsx)(l.b,{path:it,render:function(){return Object(u.jsx)(Q,{})}}),Object(u.jsx)(l.b,{path:ot,render:function(){return Object(u.jsx)(re,{})}}),Object(u.jsx)(l.b,{path:lt,render:function(){return Object(u.jsx)(de,{})}}),Object(u.jsx)(l.b,{path:ut+"/:token?",render:function(){return Object(u.jsx)(ie,{})}}),Object(u.jsx)(l.b,{path:dt,render:function(){return Object(u.jsx)(ae,{})}}),Object(u.jsx)(l.b,{path:jt,render:function(){return Object(u.jsx)(Fe,{})}}),Object(u.jsx)(l.b,{path:bt,render:function(){return Object(u.jsx)($e,{})}}),Object(u.jsx)(l.b,{path:Ot,render:function(){return Object(u.jsx)(st,{})}}),Object(u.jsx)(l.b,{render:function(){return Object(u.jsx)(j,{})}})]})})},ht=c(157),ft=function(){var e=Object(w.b)();return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:o.a.wrapper,children:[Object(u.jsx)(d.b,{to:ot,className:o.a.link,activeClassName:o.a.active,children:"Sign up"}),Object(u.jsx)(d.b,{to:it,className:o.a.link,activeClassName:o.a.active,children:"Login"}),Object(u.jsx)(d.b,{to:dt,className:o.a.link,activeClassName:o.a.active,children:"Profile"}),Object(u.jsx)(d.b,{to:jt,className:o.a.link,activeClassName:o.a.active,children:"Packs"}),Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(ht.a,{style:{paddingLeft:"50px"},onClick:function(){return e(X)}})})]})})},mt=function(){var e=Object(w.c)((function(e){return e.app.isInitialized})),t=Object(w.b)();return Object(a.useEffect)((function(){t((function(e){e(W("loading")),E().then((function(t){e(Z(!0)),e(z(!0,t.data)),e(W("succeeded"))})).catch((function(){e(W("failed"))})).finally((function(){e(Z(!0))}))}))}),[t]),e?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(d.a,{children:[Object(u.jsx)(ft,{}),Object(u.jsx)(pt,{})]})}):Object(u.jsx)(tt,{})},xt=function(){var e=Object(w.c)((function(e){return e.app.status}));return Object(u.jsxs)("div",{className:"App",children:["loading"===e&&Object(u.jsx)(tt,{}),Object(u.jsx)(mt,{})]})},gt=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,160)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))},Ct=c(61),vt=c(94),kt=Object(Ct.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGGED-IN":return Object(b.a)(Object(b.a)({},e),{},{userData:t.userData,isLoggedIn:t.value});case"login/SET-IS-LOGGED-OUT":return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:t.value});case"login/SET-AUTH-ERROR":return Object(b.a)(Object(b.a)({},e),{},{authError:t.errorMessage});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET-SIGN-UP":return Object(b.a)(Object(b.a)({},e),{},{isRegistered:t.isRegistered});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":return Object(b.a)(Object(b.a)({},e),{},{status:t.status});case"APP/SET-IS-INITIALIZED":return Object(b.a)(Object(b.a)({},e),{},{isInitialized:t.isInitialized});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"recoverPassword/CHANGE-PASSWORD":return Object(b.a)(Object(b.a)({},e),{},{recoveredPassword:!0});default:return e}},setNewPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setNewPassword/SET-NEW-PASSWORD":return Object(b.a)(Object(b.a)({},e),{},{isNewPassword:!0});default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PACKS/SET-PACKS":return Object(b.a)(Object(b.a)({},e),{},{cardPacks:t.data});case"SET-TOTAL-PACKS-COUNT":return Object(b.a)(Object(b.a)({},e),{},{totalPacksCount:t.totalPacks});case"SET-CURRENT-PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.pageNumber});case"PACKS/DEL-PACK":case"PACKS/UPDATE-PACK":return e;case"PACKS/SET-USER-ID":return Object(b.a)(Object(b.a)({},e),{},{userId:t.userId});case"PACKS/SET-MIN-CARDS_COUNT":return Object(b.a)(Object(b.a)({},e),{},{minCardsCount:t.minCardsCount});case"PACKS/SET-MAX-CARDS_COUNT":return Object(b.a)(Object(b.a)({},e),{},{maxCardsCount:t.maxCardsCount});case"PACKS/SET-NAME":return Object(b.a)(Object(b.a)({},e),{},{name:t.name});case"PACKS/SET-SORT":return Object(b.a)(Object(b.a)({},e),{},{sortPacks:t.sortValue});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/SET-CARDS":return Object(b.a)(Object(b.a)({},e),{},{cards:t.cards});case"CARDS/SET_CARDS_TOTAL_COUNT":return Object(b.a)(Object(b.a)({},e),{},{cardsTotalCount:t.totalCards});case"CARDS/SET_CURRENT_PAGE":return Object(b.a)(Object(b.a)({},e),{},{page:t.page});case"CARDS/SET-SORT":return Object(b.a)(Object(b.a)({},e),{},{sortCards:t.sortValue});default:return e}}}),Pt=Object(Ct.c)(kt,Object(Ct.a)(vt.a)),_t=Pt;window.store=Pt,s.a.render(Object(u.jsx)(w.a,{store:_t,children:Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(xt,{})})}),document.getElementById("root")),gt()},23:function(e,t,c){e.exports={wrapperModal:"Modal_wrapperModal__1yMGZ",modal:"Modal_modal__2qJfM",buttonBlock:"Modal_buttonBlock__TC32j"}},25:function(e,t,c){e.exports={packContents:"Packs_packContents__1T4hR",packsContainer:"Packs_packsContainer__25pTo",packsField:"Packs_packsField__2bPHj",sidebar:"Packs_sidebar__1XWlK",title:"Packs_title__3AHgh",showMyAllPacks:"Packs_showMyAllPacks__1Eu_N",filterByCardsCount:"Packs_filterByCardsCount__1WG3l",paginator:"Packs_paginator__2y9Yz",filter:"Packs_filter__3sdg0",activeButton:"Packs_activeButton__8lVaX",search:"Packs_search__2DAvM"}},26:function(e,t,c){e.exports={bgr:"styles_bgr__3WPbN",form:"styles_form__ynavo"}},27:function(e,t,c){e.exports={packItem:"Pack_packItem__1sY46",packSpecification:"Pack_packSpecification__3K5dZ",cardsLink:"Pack_cardsLink__1XE3-"}},29:function(e,t,c){e.exports={wrapper:"Header_wrapper__15i8W",link:"Header_link__34nbm",active:"Header_active__IYuL5"}},36:function(e,t,c){e.exports={cardItem:"Card_cardItem__3aCl1",cardSpecification:"Card_cardSpecification__m63BW"}},45:function(e,t,c){e.exports={options:"Learn_options__26UD_",question:"Learn_question__3ac2w",answer:"Learn_answer__1VH2s",qOver:"Learn_qOver__DUiKb",startOver:"Learn_startOver__XccY-",goToPacks:"Learn_goToPacks__22453"}},59:function(e,t,c){e.exports={superInput:"SuperInputText_superInput__mWkiI",errorInput:"SuperInputText_errorInput__3yOzh",error:"SuperInputText_error__3KmT8"}},65:function(e,t,c){e.exports={default:"SuperButton_default__1_C4x",red:"SuperButton_red__2yMDL"}},66:function(e,t,c){e.exports={checkbox:"SuperCheckbox_checkbox__1fMZO",spanClassName:"SuperCheckbox_spanClassName__3e5Ho"}},69:function(e,t,c){e.exports={cloud:"Cloud_cloud__2-5lP",hello:"Cloud_hello__Aqp83"}},71:function(e,t,c){e.exports={cardContents:"Cards_cardContents__hPMgJ",paginator:"Cards_paginator__3DXgT"}},84:function(e,t,c){e.exports={authError:"Login_authError__1a1YH"}},93:function(e,t,c){e.exports={ldsCircle:"Loader_ldsCircle__1RXqo"}}},[[137,1,2]]]);
//# sourceMappingURL=main.98598e07.chunk.js.map